<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.0/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.3.0/dist/leaflet.js"></script>
        <script>
            function init() {
                var map = L.map('mapcontainer');
                var center = [{{ y | safe }}, {{ x | safe}}];
                map.setView(center, 15);
                L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
                    attribution: "<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>"
                }).addTo(map);
{{ marker | safe }}
            }
        </script>
    </head>
    <body onload="init()">
        <form method="GET" action="generate">
            <input type="num" name="postnum" required>
            <input type="submit" value="作成">
        </form>
        <h1>{{ num | safe }}の生成結果</h1>
        <div id="mapcontainer" style="width:600px;height:600px"></div>
    </body>
</html>